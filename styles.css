:root {
  --bg: #f7f9fb;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #0ea5b7; /* teal */
  --accent-2: #7c3aed; /* purple */
  --win: #16a34a;
  --lose: #dc2626;
  --card-w: 140px;
  --card-h: var(--card-w); /* square cards */
}

/* utility */
.hidden { display: none; }

body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg), #ffffff);
  color: #0f1724;
  margin: 0;
  padding: 16px;
}

/* Card base styling (character cards and hand cards) */
.char-card,
.card.small {
  width: var(--card-w);
  height: var(--card-h);
  background: var(--card);
  border: 1px solid rgba(15, 23, 36, 0.12);
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 6px 14px rgba(16,24,40,0.04);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
}

/* Name/title for cards */
.char-card .name,
.card.small .name {
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 6px;
  text-align: center;
}

/* Grid layout for lists of cards */
.card-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: flex-start;
}

/* Player row and panels */
.players-row {
  display: flex;
  gap: 12px;
  justify-content: space-between;
  margin-bottom: 12px;
}
.player-panel {
  transition: all 220ms ease;
}
.player-panel h3 { margin: 0 0 8px 0; }

/* Characters container within each player - horizontal when space permits */
.player-panel .characters {
  display: flex;
  gap: 8px;
  flex-wrap: wrap; /* wrap on small screens */
  align-items: flex-start;
}
@media (min-width: 900px) {
  .player-panel .characters { flex-wrap: nowrap; }
}

/* Active player visual */
.player-panel.active {
  box-shadow: 0 10px 30px rgba(124, 58, 237, 0.06);
  border: 1px solid rgba(124, 58, 237, 0.10);
  background: linear-gradient(180deg, rgba(124,58,237,0.02), rgba(14,165,183,0.02));
  transform: translateY(-3px);
}

/* Hand & action area layout */
#hand-area { display:flex; flex-direction:column; gap:10px; }
.turn-controls { display:flex; gap:8px; justify-content:center; }

/* Play / Skip button styles (per-player) */
.turn-controls button { padding:8px 10px; border-radius:8px; border:1px solid rgba(15,23,36,0.06); background:var(--accent); color:white; cursor:pointer }
.turn-controls button.secondary { background:transparent; color:var(--muted); border:1px solid rgba(15,23,36,0.06) }

/* Facedown (opponent) hand card appearance */
.card.small.facedown { background: linear-gradient(180deg,var(--card),#f3f4f6); border:1px solid rgba(15,23,36,0.06); display:flex; align-items:center; justify-content:center }
.card.small.facedown .back-face { width:100%; height:100%; background:repeating-linear-gradient(45deg, rgba(0,0,0,0.02) 0 6px, transparent 6px 12px); border-radius:8px }

/* Make the log less prominent */
#log {
  background: transparent;
  border: 1px solid rgba(15,23,36,0.04);
  color: var(--muted);
  padding: 8px;
  height: 220px;
  overflow: auto;
  font-size: 13px;
  border-radius: 6px;
}

/* Modal styling */
#modal:not(.hidden){ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(2,6,23,0.06); z-index:60 }
#modal-inner{ background:var(--card); padding:16px; border-radius:8px; min-width:320px; border:1px solid rgba(15,23,36,0.06) }
#modal-body{ max-height:320px; overflow:auto; margin:8px 0 }
#modal-actions{ display:flex; gap:8px; justify-content:flex-end }

/* Floating actions */
#floating-actions{ position:fixed; right:18px; bottom:18px; z-index:80; display:flex; gap:8px; align-items:center }
#floating-actions button{ background:transparent; border:1px solid rgba(15,23,36,0.06); color:var(--muted); padding:8px 10px; border-radius:8px; font-size:13px; cursor:pointer }
#floating-actions button:hover{ color:var(--accent); box-shadow:0 8px 20px rgba(14,165,183,0.04) }
#floating-actions button:disabled{ opacity:0.38; cursor:not-allowed }

/* Selected/target visuals (no hover outside target-mode) */
.char-card.selected { outline:2px dashed var(--accent-2); background: linear-gradient(180deg,#f8fafc,#f1f5f9); border-color: rgba(6,182,212,0.12) }

/* Hover/interactive styles are only enabled during target selection: JS toggles body.target-mode */
body.target-mode .char-card.clickable:hover{ transform: translateY(-4px); box-shadow:0 10px 26px rgba(14,165,183,0.10); cursor:pointer; border-color:rgba(14,165,183,0.18) }
body.target-mode .char-card.selected:hover{ transform: translateY(-6px); box-shadow:0 14px 34px rgba(6,182,212,0.10) }
body.target-mode .char-card:not(.selected):hover{ transform: translateY(-3px); box-shadow:0 8px 18px rgba(7,128,158,0.04) }
body.target-mode .card.small:hover{ transform: translateY(-4px); box-shadow:0 8px 18px rgba(7,128,158,0.06) }

/* HP bar styles */
.hp { display:flex; flex-direction:column; gap:6px; align-items:stretch }
.hp-text{ font-size:13px; color:var(--muted); text-align:center }
.hp-bar{ height:12px; background:rgba(15,23,36,0.06); border-radius:8px; overflow:hidden }
.hp-fill{ height:100%; background:linear-gradient(90deg,var(--accent),var(--accent-2)); width:50%; transition: width 240ms ease }

/* Responsive layout tweaks */
@media (min-width:900px){
  #controls{ display:flex; flex-direction:row; gap:12px; align-items:flex-start }
  #hand-area{ flex:1 }
  #log-area{ flex:0 0 320px }
}
@media (max-width:899px){
  .players-row{ flex-direction:column }
  #controls{ display:flex; flex-direction:column }
  #log{ height:160px }
}

